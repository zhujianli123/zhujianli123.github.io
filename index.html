<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0039)http://www.fgm.cc/learn/lesson7/01.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>(*￣▽￣*)</title>
<style>
html,body{
  height:100%;
}
body,div,ul,li{margin:0;padding:0;}
ul{list-style-type:none;}
body{background:#000;text-align:center;font:12px/20px Arial;}
#box{position:relative;width:100%;height:100%;background:#fff;cursor:pointer;}
#box .list{position:relative;width:980px;height:1740px;overflow:hidden;}
#box .list ul{position:absolute;top:0;left:0;}
#box .list li{width:980px;height:1740px;overflow:hidden;}
#box .list li img{width: 100%;height: 100%;}
#box .count{position:absolute;right:0;bottom:5px;}
#box .count li{font-size:70px;color:#fff;float:left;width:90px;height:70px;line-height:70px;cursor:pointer;margin-right:5px;overflow:hidden;background:#F90;opacity:0.7;filter:alpha(opacity=70);border-radius:20px;}
#box .count li.current{color:#fff;opacity:1;filter:alpha(opacity=100);font-weight:700;background:#f60;}
#tmp{width:100px;height:100px;background:red;position:absolute;}
/*所有width改为100%可兼容移动端*/ 
</style>
<script type="text/javascript">
window.onload = function ()
{
  var oBox = document.getElementById("box");
  var oList = oBox.getElementsByTagName("ul")[0];
  var aImg = oBox.getElementsByTagName("img");
  var timer = playTimer = null;
  var index = i = 0;
  var bOrder = true;
  var aTmp = [];
  var aBtn = null;
  
  //生成数字按钮
  for (i = 0; i < aImg.length; i++) aTmp.push("<li>" + (i + 1) + "</li>");
  
  //插入元素
  var oCount = document.createElement("ul");
  oCount.className = "count";
  oCount.innerHTML = aTmp.join("");
  oBox.appendChild(oCount); 
  aBtn = oBox.getElementsByTagName("ul")[1].getElementsByTagName("li");
  
  //初始化状态
  cutover();
  
  //按钮点击切换
  for (i = 0; i < aBtn.length; i++)
  {
    aBtn[i].index = i;
    aBtn[i].onmouseover = function ()
    {
      index = this.index;
      cutover()
    }
  }
  
  function cutover()
  {
    for (i = 0; i < aBtn.length; i++) aBtn[i].className = "";
    aBtn[index].className = "current";      
    startMove(-(index * aImg[0].offsetHeight))
  }
  
  function next()
  {
    bOrder ? index++ : index--;
    index <= 0 && (index = 0, bOrder = true);
    index >= aBtn.length - 1 && (index = aBtn.length - 1, bOrder = false)
    cutover()
  }
  
  playTimer = setInterval(next, 3000);
  
  //鼠标移入展示区停止自动播放
  oBox.onmouseover = function ()
  {
    clearInterval(playTimer)
  };
  
  //鼠标离开展示区开始自动播放
  oBox.onmouseout = function ()
  {
    playTimer = setInterval(next, 3000)
  };
  function startMove(iTarget)
  {
    clearInterval(timer);
    timer = setInterval(function ()
    {
      doMove(iTarget)
    }, 30)  
  }
  function doMove (iTarget)
  {   
    var iSpeed = (iTarget - oList.offsetTop) / 10;
    iSpeed = iSpeed > 0 ? Math.ceil(iSpeed) : Math.floor(iSpeed);   
    oList.offsetTop == iTarget ? clearInterval(timer) : oList.style.top = oList.offsetTop + iSpeed + "px"
  }
};
</script>
</head>
<body>
  <audio src="audio.mp3" autoplay="autoplay" loop="loop"></audio>
<div id="box">
    <div class="list">
        <ul>
            <li><img src="./img/01.jpg"></li>
            <li><img src="./img/02.jpg"></li>
            <li><img src="./img/03.jpg"></li>
            <li><img src="./img/04.jpg"></li>
            <li><img src="./img/05.jpg"></li>
            <li><img src="./img/06.jpg"></li>
            <li><img src="./img/07.jpg"></li>
            <li><img src="./img/08.jpg"></li>
            <li><img src="./img/09.jpg"></li>
            <li><img src="./img/10.jpg"></li>
        </ul>
    </div>
<!-- <ul class="count">
  <li class="current">1</li>
  <li>2</li>
  <li>3</li>
  <li>4</li>
  <li>5</li>
</ul> -->
</div>
</body></html>